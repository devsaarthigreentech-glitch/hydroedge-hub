// ============================================================================
// MOCK DATA - Replace with actual API calls to PostgreSQL backend
// ============================================================================

import { Customer, Device, TelemetryParameter } from "@/types";

export const MOCK_CUSTOMERS: Customer[] = [
  {
    id: "c1",
    name: "Turbo Energy Limited",
    company_name: "Turbo Energy Ltd",
    customer_type: "customer",
    status: "active",
    parent_customer_id: null,
    hierarchy_level: 0,
    max_devices: 50,
    city: "Chennai",
    country: "India",
    created_at: "2024-06-15T10:00:00Z",
  },
  {
    id: "c2",
    name: "Sandeep Transport",
    company_name: "Sandeep Transport Co",
    customer_type: "vendor",
    status: "active",
    parent_customer_id: "c1",
    hierarchy_level: 1,
    max_devices: 20,
    city: "Surat",
    country: "India",
    created_at: "2024-08-20T10:00:00Z",
  },
  {
    id: "c3",
    name: "COCA COLA Division",
    company_name: "Coca Cola India",
    customer_type: "customer",
    status: "active",
    parent_customer_id: "c1",
    hierarchy_level: 1,
    max_devices: 30,
    city: "Mumbai",
    country: "India",
    created_at: "2024-09-10T10:00:00Z",
  },
  {
    id: "c4",
    name: "Gujarat Fleet Ops",
    company_name: "Gujarat Fleet Ops",
    customer_type: "dealer",
    status: "trial",
    parent_customer_id: "c2",
    hierarchy_level: 2,
    max_devices: 10,
    city: "Ahmedabad",
    country: "India",
    created_at: "2025-01-05T10:00:00Z",
  },
];

export const MOCK_DEVICES: Device[] = [
  {
    id: "d1",
    imei: "864636068935663",
    device_name: "Automation test",
    device_type: "FMC650",
    manufacturer: "Teltonika",
    status: "active",
    connection_status: "online",
    customer_id: "c1",
    asset_name: "Truck MH-12-AB-1234",
    asset_type: "truck",
    sim_number: "+915754123087738",
    last_latitude: 21.1702,
    last_longitude: 72.8311,
    last_location_time: new Date(Date.now() - 7200000).toISOString(),
    firmware_version: "03.28.07",
    tags: ["fleet", "priority"],
    created_at: "2024-07-01T10:00:00Z",
  },
  {
    id: "d2",
    imei: "353201355703684",
    device_name: "SGT-NANO-06-2025-0003 COCA",
    device_type: "FMB150",
    manufacturer: "Teltonika",
    status: "active",
    connection_status: "offline",
    customer_id: "c3",
    asset_name: "Van GJ-05-CD-5678",
    asset_type: "van",
    sim_number: "+915753123087739",
    last_latitude: 19.076,
    last_longitude: 72.8777,
    last_location_time: new Date(Date.now() - 259200000).toISOString(),
    firmware_version: "03.27.10",
    tags: ["delivery"],
    created_at: "2024-09-15T10:00:00Z",
  },
  {
    id: "d3",
    imei: "353201355105880",
    device_name: "Surat Mini fmb 150 fotaweb",
    device_type: "FMB150",
    manufacturer: "Teltonika",
    status: "active",
    connection_status: "offline",
    customer_id: "c2",
    asset_name: "Mini Truck SU-09-EF-9012",
    asset_type: "truck",
    sim_number: "+915754123387745",
    last_latitude: 21.1959,
    last_longitude: 72.8302,
    last_location_time: new Date(Date.now() - 1468800000).toISOString(),
    firmware_version: "03.27.10",
    tags: [],
    created_at: "2024-10-01T10:00:00Z",
  },
  {
    id: "d4",
    imei: "353201355105328",
    device_name: "SGT MINI 09-25-001",
    device_type: "FMB150",
    manufacturer: "Teltonika",
    status: "inactive",
    connection_status: "offline",
    customer_id: "c2",
    asset_name: "Container GJ-01-GH-3456",
    asset_type: "container",
    sim_number: "+915754120877213",
    last_latitude: 23.0225,
    last_longitude: 72.5714,
    last_location_time: new Date(Date.now() - 12960000000).toISOString(),
    firmware_version: "03.25.15",
    tags: [],
    created_at: "2024-11-01T10:00:00Z",
  },
  {
    id: "d5",
    imei: "353201355708097",
    device_name: "CAN Data - SGT greendrive neo 06-25-0013",
    device_type: "FMB150",
    manufacturer: "Teltonika",
    status: "active",
    connection_status: "online",
    customer_id: "c3",
    asset_name: "Truck MH-04-IJ-7890",
    asset_type: "truck",
    sim_number: "+915754123087745",
    last_latitude: 19.076,
    last_longitude: 72.8777,
    last_location_time: new Date(Date.now() - 5000).toISOString(),
    firmware_version: "03.28.07",
    tags: ["can", "priority"],
    created_at: "2025-01-10T10:00:00Z",
  },
  {
    id: "d6",
    imei: "353201355647121",
    device_name: "CAN GREENDRIVE NEO- 04-25-00",
    device_type: "FMB150",
    manufacturer: "Teltonika",
    status: "active",
    connection_status: "online",
    customer_id: "c1",
    asset_name: "Truck TN-07-KL-1234",
    asset_type: "truck",
    sim_number: "",
    last_latitude: 13.0827,
    last_longitude: 80.2707,
    last_location_time: new Date(Date.now() - 3000).toISOString(),
    firmware_version: "03.28.07",
    tags: ["can"],
    created_at: "2025-01-15T10:00:00Z",
  },
];

export const generateTelemetry = (deviceId: string): TelemetryParameter[] => {
  const now = new Date().toISOString();
  const device = MOCK_DEVICES.find((d) => d.id === deviceId);

  const systemParams = [
    { name: "server.address", value: "106.222.243.67:65072", type: "system" as const },
    { name: "ident", value: device?.imei || "", type: "system" as const },
    { name: "device.type.id", value: "2147", type: "system" as const },
    { name: "device.name", value: device?.device_name || "", type: "system" as const },
    { name: "device.id", value: Math.floor(Math.random() * 9000000 + 1000000).toString(), type: "system" as const },
    { name: "channel.id", value: "1205674", type: "system" as const },
    { name: "protocol.id", value: "51", type: "system" as const },
  ];

  const sensorParams = [
    { name: "ain.1", value: (Math.random() * 0.05).toFixed(3), type: "sensor" as const },
    { name: "ain.2", value: (Math.random() * 0.01).toFixed(3), type: "sensor" as const },
    { name: "battery.voltage", value: (8 + Math.random() * 0.5).toFixed(3), type: "sensor" as const },
    { name: "battery.level", value: Math.floor(70 + Math.random() * 30).toString(), type: "sensor" as const },
    { name: "codec.id", value: "142", type: "sensor" as const },
    { name: "din.1", value: Math.random() > 0.5 ? "true" : "false", type: "sensor" as const },
    { name: "engine.ignition.status", value: Math.random() > 0.5 ? "true" : "false", type: "sensor" as const },
    { name: "external.powersource.voltage", value: (12 + Math.random() * 2).toFixed(3), type: "sensor" as const },
    { name: "gnss.satellites.count", value: Math.floor(8 + Math.random() * 8).toString(), type: "sensor" as const },
    { name: "gnss.status", value: "true", type: "sensor" as const },
    { name: "gsm.signal.level", value: Math.floor(60 + Math.random() * 40).toString(), type: "sensor" as const },
    { name: "movement.status", value: Math.random() > 0.5 ? "true" : "false", type: "sensor" as const },
    { name: "position.altitude", value: Math.floor(10 + Math.random() * 200).toString(), type: "sensor" as const },
    { name: "position.direction", value: Math.floor(Math.random() * 360).toString(), type: "sensor" as const },
    { name: "position.hdop", value: (0.5 + Math.random() * 2).toFixed(1), type: "sensor" as const },
    { name: "position.latitude", value: (19 + Math.random() * 4).toFixed(7), type: "sensor" as const },
    { name: "position.longitude", value: (72 + Math.random() * 8).toFixed(7), type: "sensor" as const },
    { name: "position.speed", value: Math.floor(Math.random() * 80).toString(), type: "sensor" as const },
    { name: "timestamp", value: Math.floor(Date.now() / 1000).toString(), type: "sensor" as const },
  ];

  return [...systemParams, ...sensorParams].map((p, i) => ({
    ...p,
    id: i,
    timestamp: now,
  }));
};
